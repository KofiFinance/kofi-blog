<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Transaction Shuffling and MEV on Aptos | Kofi Finance</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://blog.kofi.finance/img/og-image.png"><meta data-rh="true" name="twitter:image" content="https://blog.kofi.finance/img/og-image.png"><meta data-rh="true" property="og:url" content="https://blog.kofi.finance/transaction-shuffling-and-mev-on-aptos"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Transaction Shuffling and MEV on Aptos | Kofi Finance"><meta data-rh="true" name="description" content="Transaction lifecycle on Aptos"><meta data-rh="true" property="og:description" content="Transaction lifecycle on Aptos"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-02-20T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://kofi.finance"><meta data-rh="true" property="article:tag" content="mev,aptos"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.kofi.finance/transaction-shuffling-and-mev-on-aptos"><link data-rh="true" rel="alternate" href="https://blog.kofi.finance/transaction-shuffling-and-mev-on-aptos" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.kofi.finance/transaction-shuffling-and-mev-on-aptos" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://blog.kofi.finance/transaction-shuffling-and-mev-on-aptos","mainEntityOfPage":"https://blog.kofi.finance/transaction-shuffling-and-mev-on-aptos","url":"https://blog.kofi.finance/transaction-shuffling-and-mev-on-aptos","headline":"Transaction Shuffling and MEV on Aptos","name":"Transaction Shuffling and MEV on Aptos","description":"Transaction lifecycle on Aptos","datePublished":"2025-02-20T00:00:00.000Z","author":{"@type":"Person","name":"Kofi Finance","description":"Kofi Finance","url":"https://kofi.finance","image":"https://github.com/wagmitt/branding/blob/main/logo.png?raw=true"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://blog.kofi.finance/","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Kofi Finance RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Kofi Finance Atom Feed"><link rel="stylesheet" href="/assets/css/styles.a85c06ee.css">
<script src="/assets/js/runtime~main.5e2408f8.js" defer="defer"></script>
<script src="/assets/js/main.7333aac5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="https://github.com/wagmitt/branding/blob/main/logo.png?raw=true"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Kofi Finance Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Kofi Finance Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/KofiFinance/kofi-blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/aip-119-and-the-future-of-validator-economics-on-aptos">AIP-119 and the Future of Validator Economics on Aptos</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/transaction-shuffling-and-mev-on-aptos">Transaction Shuffling and MEV on Aptos</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/predictive-mev-on-aptos">Predictive MEV on Aptos</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Transaction Shuffling and MEV on Aptos</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-02-20T00:00:00.000Z">February 20, 2025</time> Â· <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/authors/kofi"><img class="avatar__photo authorImage_XqGP" src="https://github.com/wagmitt/branding/blob/main/logo.png?raw=true" alt="Kofi Finance"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/authors/kofi"><span class="authorName_yefp">Kofi Finance</span></a></div><small class="authorTitle_nd0D" title="Kofi Finance">Kofi Finance</small><div class="authorSocials_rSDt"><a href="https://x.com/kofi_finance" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="X"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 1200 1227" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf xSvg_y3PF"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z"></path></svg></a><a href="https://github.com/kofi_finance" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-lifecycle-on-aptos">Transaction lifecycle on Aptos<a href="#transaction-lifecycle-on-aptos" class="hash-link" aria-label="Direct link to Transaction lifecycle on Aptos" title="Direct link to Transaction lifecycle on Aptos">â</a></h2>
<p><em>edited 2025-02-21</em></p>
<p>On Aptos, transactions follow a structured lifecycle to achieve finality. Initially, transactions are submitted to full nodes, which propagate them to validator nodes. Within the consensus layerâpowered by AptosBFTâtransactions are collected into a proposed block and reordered using a pre-execution shuffling mechanism to balance the load and enhance fairness. Once consensus is reached among validators, the agreed-upon block, containing the shuffled transaction order and cryptographic proofs, is finalized. The execution engine then processes these transactions, leveraging Block-STM for parallel execution, and updates the ledger, achieving rapid finality with robust security. This design integrates shuffling within consensus to determine the transaction order, followed by efficient execution and ledger confirmation.</p>
<p><strong>Pre-Execution Shuffling</strong></p>
<p>In between consensus and execution, Aptos uses a pre-execution shuffling mechanism to order transactions. This mechanism is used to:</p>
<ul>
<li><strong>Balance the Load:</strong> Prevent a burst of transactions from the same sender or of the same type.</li>
</ul>
<p>As noted in <a href="https://github.com/aptos-foundation/AIPs/blob/main/aips/aip-68.md" target="_blank" rel="noopener noreferrer">AIP-68</a>:</p>
<blockquote>
<p>&quot;...This (Long block latency) is expected to happen in this particular situation where spikes of conflicting/sequential transactions from a popular module (smart contract) dominates the traffic&quot;</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-transaction-shuffling-works-on-aptos">How transaction shuffling works on Aptos<a href="#how-transaction-shuffling-works-on-aptos" class="hash-link" aria-label="Direct link to How transaction shuffling works on Aptos" title="Direct link to How transaction shuffling works on Aptos">â</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example 1<a href="#example-1" class="hash-link" aria-label="Direct link to Example 1" title="Direct link to Example 1">â</a></h3>
<p><img decoding="async" loading="lazy" alt="Transaction Shuffling on Aptos" src="/assets/images/shuffling-1.drawio-1dd271386ef7d0953bd8e6fe733b11c1.svg" class="img_ev3q"></p>
<p>The diagram above illustrates how transaction shuffling works in practice. Let&#x27;s break it down:</p>
<ol>
<li>
<p><strong>Original Transaction Order:</strong></p>
<ul>
<li>The top row shows transactions in their original order (0-9)</li>
<li>Transactions of the same sender have the same letter</li>
<li>Transactions of the same use case (smart contract) have the same color</li>
<li>Each circle represents a transaction, with numbers indicating their original position</li>
</ul>
</li>
<li>
<p><strong>Shuffled Transaction Order:</strong></p>
<ul>
<li>The bottom row shows transactions after shuffling</li>
<li>The numbers below show their new positions</li>
<li>With <code>sender_spread_factor = 1</code>, transactions from the same sender are spread apart</li>
<li>Notice how green &quot;A&quot; transactions that were originally clustered are now distributed</li>
</ul>
</li>
<li>
<p><strong>Shuffling Parameters:</strong></p>
<ul>
<li><code>sender_spread_factor = 1</code>: Spreads transactions from the same sender</li>
<li><code>platform_use_case_spread_factor = 0</code>: No additional delay for platform transactions</li>
<li><code>user_use_case_spread_factor = 0</code>: No additional delay for user transactions</li>
</ul>
</li>
<li>
<p><strong>Result:</strong></p>
<ul>
<li>Transactions from sender A (green) are spread out evenly</li>
<li>Transactions from sender B (blue) and C (orange) maintain relative ordering</li>
<li>Each transaction is shifted by 1 slot relative to others from the same sender</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example 2<a href="#example-2" class="hash-link" aria-label="Direct link to Example 2" title="Direct link to Example 2">â</a></h3>
<p><img decoding="async" loading="lazy" alt="Transaction Shuffling on Aptos" src="/assets/images/shuffling-2.drawio-7d24466d709aa486686957e04f272456.svg" class="img_ev3q"></p>
<p>Let&#x27;s analyze this diagram which shows a more complex shuffling scenario:</p>
<ol>
<li>
<p><strong>Original Transaction Order:</strong></p>
<ul>
<li>Similar to Example 1, transactions are shown with sender (letter) and use case (color)</li>
</ul>
</li>
<li>
<p><strong>Shuffling Parameters:</strong></p>
<ul>
<li><code>sender_spread_factor = 2</code>: Spreads transactions from the same sender further apart</li>
<li><code>platform_use_case_spread_factor = 0</code>: No additional delay for platform transactions</li>
<li><code>user_use_case_spread_factor = 1</code>: Slight delay for user transactions</li>
</ul>
</li>
<li>
<p><strong>Key Effects:</strong></p>
<ul>
<li>&quot;Same context transactions are spaced by 1&quot; - Transactions with the same use case maintain a minimum spacing</li>
<li>&quot;Same sender transactions are spread by at least 2 slots&quot; - Due to <code>sender_spread_factor</code></li>
<li>&quot;Both spreads are applied independently&quot; - The transaction will be delayed by whichever spread factor results in a longer delay</li>
<li>Some sender spreads &quot;could not be fulfilled&quot; due to competing constraints</li>
</ul>
</li>
</ol>
<p>This example demonstrates how multiple spread factors interact and sometimes compete, leading to a complex but deterministic reordering that balances various constraints.</p>
<p><em>More examples can be found in test cases in the <a href="https://github.com/aptos-labs/aptos-core/blob/51e3afbaf4645c7a8dd03b94e47555c0dbed0366/consensus/src/transaction_shuffler/use_case_aware/tests/manual.rs" target="_blank" rel="noopener noreferrer">Aptos codebase</a></em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="live-parameters">Live Parameters<a href="#live-parameters" class="hash-link" aria-label="Direct link to Live Parameters" title="Direct link to Live Parameters">â</a></h2>
<p>The current live parameters for the transaction shuffler are:</p>
<table><thead><tr><th>Parameter</th><th>Value</th><th>Effect</th></tr></thead><tbody><tr><td>sender_spread_factor</td><td>32</td><td>Spreads transactions from the same sender, with potential saturation</td></tr><tr><td>platform_use_case_spread_factor</td><td>0</td><td>No delay for platform transactions, prioritizing system operations</td></tr><tr><td>user_use_case_spread_factor</td><td>4</td><td>Spaces out user transactions to prevent dominance in order</td></tr></tbody></table>
<p><a href="https://github.com/aptos-labs/aptos-core/blob/51e3afbaf4645c7a8dd03b94e47555c0dbed0366/types/src/on_chain_config/execution_config.rs#L159-L160" target="_blank" rel="noopener noreferrer">Code</a></p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(220, 220, 170)">default_for_genesis</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token class-name" style="color:rgb(78, 201, 176)">TransactionShufflerType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">::</span><span class="token class-name" style="color:rgb(78, 201, 176)">UseCaseAware</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        sender_spread_factor</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">32</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        platform_use_case_spread_factor</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        user_use_case_spread_factor</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implications-for-mev-strategies">Implications for MEV Strategies<a href="#implications-for-mev-strategies" class="hash-link" aria-label="Direct link to Implications for MEV Strategies" title="Direct link to Implications for MEV Strategies">â</a></h2>
<p>Aptos&#x27;s transaction shuffling mechanism fundamentally alters the landscape for Maximum Extractable Value (MEV) strategies by introducing dynamic, consensus-driven reordering before execution, building on an initial gas-based queue. This design imposes significant challenges for MEV extractors:</p>
<ul>
<li>
<p><strong>Reduced Predictability in Ordering:</strong> Transactions enter the consensus phase with an initial order based on gas prices, reflecting submitter priority. However, the <code>UseCaseAware</code> shuffler, with parameters like sender_spread_factor (32) and <code>user_use_case_spread_factor</code> (4), then disperses these transactions across the block based on sender and use-case constraints. This interplay transforms the predictable gas-based sequence into a complex, volume-dependent order, making it harder for MEV actors to anticipate final positions.</p>
</li>
<li>
<p><strong>Disrupted Concentration and Fairness:</strong> While gas offers a starting advantage, shuffling prevents bursts of related transactions (e.g., multiple trades from one sender), diluting opportunities for MEV tactics like front-running or arbitrage. This fosters a more equitable market by reducing the dominance of high-gas bidders who might otherwise cluster transactions for profit.</p>
<p>The shuffling processâintegrated into the AptosBFT consensus layerâbegins with a gas-prioritized queue, then applies use-case prioritization (e.g., spacing user transactions by 4 slots) and sender-specific spreads (e.g., up to 32 slots). This layered approach, backed by a priority queue system, evolves transaction ordering beyond simple gas auctions. For instance, a bot attempting to front-run a large decentralized exchange trade with a high gas bid might still lose its edge if shuffling spreads its transaction apart from the target. While this enhances fairness and load balancing, it may slightly delay time-sensitive trades initially favored by gas, a trade-off for resilience.</p>
</li>
</ul>
<p>MEV strategies must now adapt, potentially shifting from exploiting gas-driven order to analyzing shuffle patterns across blocks. As MEV techniques advance, Aptos&#x27;s tunable shuffling parameters, layered atop gas prioritization, will be key to sustaining an equitable ecosystem, indirectly bolstering network integrity by curbing manipulative reorderings.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/mev">mev</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/aptos">aptos</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/KofiFinance/kofi-blog/tree/main/blog/2025-02-15-tx-shuffling/2025-02-15-tx-shuffling.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aip-119-and-the-future-of-validator-economics-on-aptos"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">AIP-119 and the Future of Validator Economics on Aptos</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/predictive-mev-on-aptos"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Predictive MEV on Aptos</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#transaction-lifecycle-on-aptos" class="table-of-contents__link toc-highlight">Transaction lifecycle on Aptos</a></li><li><a href="#how-transaction-shuffling-works-on-aptos" class="table-of-contents__link toc-highlight">How transaction shuffling works on Aptos</a><ul><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example 1</a></li><li><a href="#example-2" class="table-of-contents__link toc-highlight">Example 2</a></li></ul></li><li><a href="#live-parameters" class="table-of-contents__link toc-highlight">Live Parameters</a></li><li><a href="#implications-for-mev-strategies" class="table-of-contents__link toc-highlight">Implications for MEV Strategies</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">All Posts</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/kofi_finance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/kofi-finance" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/wagmitt/kofi-finance-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Kofi Finance. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>